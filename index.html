<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Online Calculators Hub | Math, Date, Finance & More</title>
    
    <!-- Primary Meta Tags -->
    <meta name="title" content="Free Online Calculators Hub | Math, Date, Finance & More">
    <meta name="description" content="Access our comprehensive collection of free online calculators. From basic math to advanced financial calculations, date planning, and unit conversions. All tools are free and easy to use.">
    <meta name="keywords" content="free calculator, online calculator, math calculator, date calculator, financial calculator, unit converter, scientific calculator, percentage calculator, age calculator, time calculator">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://free-calculators.netlify.app/">
    <meta property="og:title" content="Free Online Calculators Hub | Math, Date, Finance & More">
    <meta property="og:description" content="Access our comprehensive collection of free online calculators. From basic math to advanced financial calculations, date planning, and unit conversions. All tools are free and easy to use.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://free-calculators.netlify.app/">
    <meta property="twitter:title" content="Free Online Calculators Hub | Math, Date, Finance & More">
    <meta property="twitter:description" content="Access our comprehensive collection of free online calculators. From basic math to advanced financial calculations, date planning, and unit conversions. All tools are free and easy to use.">

    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    <meta name="google-site-verification" content="kRcnwOGy_lYnQHzd5tDeYZ4XlSReGwLm56OhP_6R7z0" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://free-calculators.netlify.app/">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Free Online Calculators Hub",
        "description": "Access our comprehensive collection of free online calculators. From basic math to advanced financial calculations, date planning, and unit conversions.",
        "url": "https://free-calculators.netlify.app/",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://free-calculators.netlify.app/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-blue-600 shadow-lg fixed w-full z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex-shrink-0">
                    <a href="/" class="text-white text-2xl font-bold flex items-center">
                        <i class="fas fa-calculator mr-2"></i>
                        Free Calculators
                    </a>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden sm:flex sm:items-center sm:space-x-8">
                    <a href="/math" class="text-white hover:text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">Math</a>
                    <a href="/date" class="text-white hover:text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">Date</a>
                    <a href="/finance" class="text-white hover:text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">Finance</a>
                    <a href="/converter" class="text-white hover:text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">Converters</a>
                    <a href="/health" class="text-white hover:text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">Health</a>
                </div>

                <!-- Mobile Menu Button -->
                <div class="flex items-center">
                    <div class="sm:hidden">
                        <button type="button" class="mobile-menu-button inline-flex items-center justify-center p-2 rounded-md text-white hover:text-gray-200 focus:outline-none" aria-expanded="false">
                            <span class="sr-only">Open main menu</span>
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile menu -->
        <div class="mobile-menu hidden sm:hidden bg-blue-600">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="/math" class="block text-white hover:text-gray-200 px-3 py-2 rounded-md text-base font-medium transition-colors duration-200">Math</a>
                <a href="/date" class="block text-white hover:text-gray-200 px-3 py-2 rounded-md text-base font-medium transition-colors duration-200">Date</a>
                <a href="/finance" class="block text-white hover:text-gray-200 px-3 py-2 rounded-md text-base font-medium transition-colors duration-200">Finance</a>
                <a href="/converter" class="block text-white hover:text-gray-200 px-3 py-2 rounded-md text-base font-medium transition-colors duration-200">Converters</a>
                <a href="/health" class="block text-white hover:text-gray-200 px-3 py-2 rounded-md text-base font-medium transition-colors duration-200">Health</a>
                <div class="px-3 py-2">
                    <div class="relative">
                        <input type="text" id="mobileSearch" placeholder="Search calculators..." class="w-full px-4 py-2 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <!-- Mobile Search Results -->
                        <div id="mobileSearchResults" class="hidden absolute left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 max-h-96 overflow-y-auto z-50">
                            <!-- Results will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile menu backdrop -->
    <div class="mobile-menu-backdrop hidden fixed inset-0 bg-black bg-opacity-50 z-40"></div>

    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-blue-600 to-blue-800 text-white py-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">Free Online Calculators</h1>
            <p class="text-xl mb-8">Access our comprehensive collection of calculation tools. From basic math to advanced financial calculations.</p>
            <div class="max-w-2xl mx-auto">
                <div class="relative">
                    <input type="text" id="heroSearch" placeholder="Search for calculators..." class="w-full px-6 py-4 rounded-lg text-gray-900 text-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <div class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500">
                        <i class="fas fa-search text-xl"></i>
                    </div>
                    <!-- Hero Search Results -->
                    <div id="heroSearchResults" class="hidden absolute left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 max-h-96 overflow-y-auto z-50">
                        <!-- Results will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Calculator Categories -->
    <section id="categories" class="py-12 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-12">Calculator Categories</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Math Calculators -->
                <div class="bg-white rounded-lg shadow-lg p-6 transform hover:-translate-y-1 transition duration-300" data-aos="fade-up">
                    <div class="text-center mb-4">
                        <i class="fas fa-square-root-alt text-4xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-center mb-2">Math Calculators</h3>
                    <p class="text-gray-600 text-center mb-4">Basic and advanced mathematical calculations</p>
                    <a href="/math" class="block text-center bg-blue-100 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-200 transition duration-300">
                        Explore
                    </a>
                </div>

                <!-- Date Calculators -->
                <div class="bg-white rounded-lg shadow-lg p-6 transform hover:-translate-y-1 transition duration-300" data-aos="fade-up" data-aos-delay="100">
                    <div class="text-center mb-4">
                        <i class="fas fa-calendar-alt text-4xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-center mb-2">Date Calculators</h3>
                    <p class="text-gray-600 text-center mb-4">Date planning and time calculations</p>
                    <a href="/date" class="block text-center bg-blue-100 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-200 transition duration-300">
                        Explore
                    </a>
                </div>

                <!-- Financial Calculators -->
                <div class="bg-white rounded-lg shadow-lg p-6 transform hover:-translate-y-1 transition duration-300" data-aos="fade-up" data-aos-delay="200">
                    <div class="text-center mb-4">
                        <i class="fas fa-dollar-sign text-4xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-center mb-2">Financial Calculators</h3>
                    <p class="text-gray-600 text-center mb-4">Money and investment calculations</p>
                    <a href="/finance" class="block text-center bg-blue-100 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-200 transition duration-300">
                        Explore
                    </a>
                </div>

                <!-- Unit Converters -->
                <div class="bg-white rounded-lg shadow-lg p-6 transform hover:-translate-y-1 transition duration-300" data-aos="fade-up" data-aos-delay="300">
                    <div class="text-center mb-4">
                        <i class="fas fa-exchange-alt text-4xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-center mb-2">Unit Converters</h3>
                    <p class="text-gray-600 text-center mb-4">Convert between different units</p>
                    <a href="/converter" class="block text-center bg-blue-100 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-200 transition duration-300">
                        Explore
                    </a>
                </div>

                <!-- Health Calculators -->
                <div class="bg-white rounded-lg shadow-lg p-6 transform hover:-translate-y-1 transition duration-300" data-aos="fade-up" data-aos-delay="400">
                    <div class="text-center mb-4">
                        <i class="fas fa-heartbeat text-4xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-center mb-2">Health Calculators</h3>
                    <p class="text-gray-600 text-center mb-4">Health and fitness calculations</p>
                    <a href="/health" class="block text-center bg-blue-100 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-200 transition duration-300">
                        Explore
                    </a>
                </div>

                <!-- Scientific Calculators -->
                <div class="bg-white rounded-lg shadow-lg p-6 transform hover:-translate-y-1 transition duration-300" data-aos="fade-up" data-aos-delay="500">
                    <div class="text-center mb-4">
                        <i class="fas fa-flask text-4xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-center mb-2">Scientific Calculators</h3>
                    <p class="text-gray-600 text-center mb-4">Advanced scientific calculations</p>
                    <a href="/scientific" class="block text-center bg-blue-100 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-200 transition duration-300">
                        Explore
                    </a>
                </div>
            </div>
            <!-- See All Categories Button -->
            <div class="text-center mt-8">
                <a href="/categories" class="inline-flex items-center px-6 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition duration-300">
                    See All Categories
                    <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Popular Calculators Section -->
    <section class="py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-12">Popular Calculators</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <a href="/math/percentage" class="bg-white p-4 rounded-lg shadow hover:shadow-lg transition duration-300">
                    <div class="text-center">
                        <i class="fas fa-percentage text-3xl text-blue-600 mb-2"></i>
                        <h3 class="font-semibold">Percentage Calculator</h3>
                    </div>
                </a>
                <a href="/date/age" class="bg-white p-4 rounded-lg shadow hover:shadow-lg transition duration-300">
                    <div class="text-center">
                        <i class="fas fa-user-clock text-3xl text-blue-600 mb-2"></i>
                        <h3 class="font-semibold">Age Calculator</h3>
                    </div>
                </a>
                <a href="/finance/loan" class="bg-white p-4 rounded-lg shadow hover:shadow-lg transition duration-300">
                    <div class="text-center">
                        <i class="fas fa-money-bill-wave text-3xl text-blue-600 mb-2"></i>
                        <h3 class="font-semibold">Loan Calculator</h3>
                    </div>
                </a>
                <a href="/converter/unit" class="bg-white p-4 rounded-lg shadow hover:shadow-lg transition duration-300">
                    <div class="text-center">
                        <i class="fas fa-exchange-alt text-3xl text-blue-600 mb-2"></i>
                        <h3 class="font-semibold">Unit Converter</h3>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-12 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-12">Why Choose Our Calculators?</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-bolt text-2xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Fast & Accurate</h3>
                    <p class="text-gray-600">Get instant results with high precision calculations</p>
                </div>
                <div class="text-center">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-mobile-alt text-2xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Mobile Friendly</h3>
                    <p class="text-gray-600">Access calculators on any device, anywhere</p>
                </div>
                <div class="text-center">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-lock text-2xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Secure & Private</h3>
                    <p class="text-gray-600">Your calculations are private and secure</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-blue-600 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h4 class="text-xl font-semibold mb-4">About Us</h4>
                    <p class="text-gray-200">We provide free online calculators to help you with various calculations. All tools are easy to use and accessible.</p>
                </div>
                <div>
                    <h4 class="text-xl font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="/math" class="text-gray-200 hover:text-white">Math Calculators</a></li>
                        <li><a href="/date" class="text-gray-200 hover:text-white">Date Calculators</a></li>
                        <li><a href="/finance" class="text-gray-200 hover:text-white">Financial Calculators</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-xl font-semibold mb-4">Connect With Us</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-200 hover:text-white text-2xl"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="text-gray-200 hover:text-white text-2xl"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-200 hover:text-white text-2xl"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
            <hr class="border-gray-500 my-8">
            <div class="text-center text-gray-200">
                <p>&copy; <span id="currentYear"></span> Waqar ali. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Search Results Modal -->
    <div id="searchResults" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
        <div class="max-w-2xl mx-auto mt-20 bg-white rounded-lg shadow-xl">
            <div class="p-4 border-b">
                <div class="flex justify-between items-center">
                    <h3 class="text-lg font-semibold">Search Results</h3>
                    <button onclick="closeSearchResults()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div id="searchResultsList" class="p-4 max-h-96 overflow-y-auto">
                <!-- Results will be populated here -->
            </div>
        </div>
    </div>

    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true
        });

        // Set current year in copyright
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Mobile menu functionality
        const mobileMenuButton = document.querySelector('.mobile-menu-button');
        const mobileMenu = document.querySelector('.mobile-menu');
        const mobileMenuBackdrop = document.querySelector('.mobile-menu-backdrop');
        const body = document.body;
        
        let calculatorData = null;
        let categoryData = null;
        let searchTimeout = null;
        let isDataLoaded = false;

        // Fetch calculator data
        fetch('/calculators.json')
            .then(response => response.json())
            .then(data => {
                console.log('Data loaded successfully:', data);
                // Ensure we have the correct data structure
                calculatorData = Array.isArray(data.calculators) ? data.calculators : [];
                // Create categories from the data if not provided
                if (!Array.isArray(data.categories)) {
                    // Extract unique categories from calculators
                    const uniqueCategories = [...new Set(calculatorData.map(calc => calc.category))];
                    categoryData = uniqueCategories.map(category => ({
                        name: category,
                        url: `/${category.toLowerCase()}`,
                        description: `${category} calculators and tools`,
                        icon: getCategoryIcon(category),
                        keywords: [category.toLowerCase(), 'calculator', 'tools']
                    }));
                } else {
                    categoryData = data.categories;
                }
                isDataLoaded = true;
                // Initialize search inputs after data is loaded
                initializeSearchInputs();
            })
            .catch(error => {
                console.error('Error loading calculator data:', error);
                // Fallback data in case of fetch error
                calculatorData = [
                    {
                        name: "Percentage Calculator",
                        url: "/math/percentage.html",
                        category: "Math",
                        keywords: ["percentage", "percent", "calculation", "math", "ratio", "proportion"]
                    }
                ];
                categoryData = [
                    {
                        name: "Math",
                        url: "/math",
                        description: "Basic and advanced mathematical calculations",
                        icon: "fa-square-root-alt",
                        keywords: ["math", "mathematics", "calculation", "numbers"]
                    }
                ];
                isDataLoaded = true;
                // Initialize search inputs after fallback data is set
                initializeSearchInputs();
            });

        // Helper function to get category icon
        function getCategoryIcon(category) {
            const icons = {
                'Math': 'fa-square-root-alt',
                'Date': 'fa-calendar-alt',
                'Finance': 'fa-dollar-sign',
                'Converters': 'fa-exchange-alt',
                'Health': 'fa-heartbeat',
                'Scientific': 'fa-flask'
            };
            return icons[category] || 'fa-calculator';
        }

        // Initialize search inputs
        function initializeSearchInputs() {
            console.log('Initializing search inputs');
            const searchInputs = document.querySelectorAll('input[type="text"]');
            searchInputs.forEach(input => {
                console.log('Setting up listener for input:', input.id);
                input.addEventListener('input', () => handleSearchInput(input));
                input.addEventListener('focus', () => {
                    if (input.value) {
                        handleSearchInput(input);
                    }
                });
            });
        }

        // Search functionality with predictions
        function handleSearchInput(input) {
            console.log('Search input triggered:', input.value);
            const searchTerm = input.value.toLowerCase();
            const resultsContainer = document.getElementById(input.id + 'Results');
            
            if (!isDataLoaded) {
                console.log('Data not loaded yet, showing loading state');
                resultsContainer.innerHTML = '<p class="text-gray-500 text-center py-4">Loading search results...</p>';
                resultsContainer.classList.remove('hidden');
                return;
            }

            // Clear previous timeout
            if (searchTimeout) {
                clearTimeout(searchTimeout);
            }

            // Set new timeout to prevent too many searches while typing
            searchTimeout = setTimeout(() => {
                try {
                    // Search in categories
                    const categoryResults = categoryData ? categoryData.filter(category => {
                        const searchableText = [
                            category.name,
                            category.description,
                            ...(category.keywords || [])
                        ].join(' ').toLowerCase();
                        return searchableText.includes(searchTerm);
                    }) : [];

                    // Search in calculators
                    const calculatorResults = calculatorData ? calculatorData.filter(calculator => {
                        const searchableText = [
                            calculator.name,
                            calculator.category,
                            ...(calculator.keywords || [])
                        ].join(' ').toLowerCase();
                        return searchableText.includes(searchTerm);
                    }) : [];

                    console.log('Search results:', { categories: categoryResults, calculators: calculatorResults });
                    displaySearchResults(categoryResults, calculatorResults, resultsContainer);
                } catch (error) {
                    console.error('Error during search:', error);
                    resultsContainer.innerHTML = '<p class="text-red-500 text-center py-4">An error occurred while searching. Please try again.</p>';
                    resultsContainer.classList.remove('hidden');
                }
            }, 200);
        }

        function displaySearchResults(categories, calculators, container) {
            console.log('Displaying results in container:', container.id);
            container.innerHTML = '';
            
            if (categories.length === 0 && calculators.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4">No results found. Please try different keywords.</p>';
            } else {
                // Display categories first
                if (categories.length > 0) {
                    const categoriesDiv = document.createElement('div');
                    categoriesDiv.className = 'p-2';
                    categoriesDiv.innerHTML = `
                        <div class="px-3 py-2 bg-blue-50 rounded-lg mb-2">
                            <h4 class="text-sm font-semibold text-blue-600 uppercase tracking-wider">Categories</h4>
                        </div>
                        <div class="space-y-1">
                            ${categories.map(category => `
                                <a href="${category.url}" class="block px-3 py-2 hover:bg-gray-50 rounded-lg transition duration-150">
                                    <div class="flex items-center">
                                        <i class="fas ${category.icon} text-blue-600 mr-3"></i>
                                        <div>
                                            <h5 class="font-medium text-gray-900">${category.name}</h5>
                                            <p class="text-sm text-gray-500">${category.description}</p>
                                        </div>
                                    </div>
                                </a>
                            `).join('')}
                        </div>
                    `;
                    container.appendChild(categoriesDiv);
                }

                // Display calculators grouped by category
                if (calculators.length > 0) {
                    const groupedCalculators = calculators.reduce((acc, calculator) => {
                        if (!acc[calculator.category]) {
                            acc[calculator.category] = [];
                        }
                        acc[calculator.category].push(calculator);
                        return acc;
                    }, {});

                    Object.entries(groupedCalculators).forEach(([category, categoryCalculators]) => {
                        const categoryDiv = document.createElement('div');
                        categoryDiv.className = 'p-2';
                        categoryDiv.innerHTML = `
                            <div class="px-3 py-2 bg-gray-50 rounded-lg mb-2">
                                <h4 class="text-sm font-semibold text-gray-600 uppercase tracking-wider">${category} Calculators</h4>
                            </div>
                            <div class="space-y-1">
                                ${categoryCalculators.map(calculator => `
                                    <a href="${calculator.url}" class="block px-3 py-2 hover:bg-gray-50 rounded-lg transition duration-150">
                                        <div class="flex items-center">
                                            <i class="fas fa-calculator text-blue-600 mr-3"></i>
                                            <div>
                                                <h5 class="font-medium text-gray-900">${calculator.name}</h5>
                                                <p class="text-sm text-gray-500">${calculator.keywords.join(', ')}</p>
                                            </div>
                                        </div>
                                    </a>
                                `).join('')}
                            </div>
                        `;
                        container.appendChild(categoryDiv);
                    });
                }
            }

            container.classList.remove('hidden');
        }

        // Close search results when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('input[type="text"]') && !e.target.closest('[id$="SearchResults"]')) {
                document.querySelectorAll('[id$="SearchResults"]').forEach(container => {
                    container.classList.add('hidden');
                });
            }
        });

        // Mobile menu functionality
        function toggleMobileMenu() {
            const isOpen = mobileMenu.classList.contains('hidden');
            mobileMenu.classList.toggle('hidden');
            mobileMenuBackdrop.classList.toggle('hidden');
            mobileMenuButton.setAttribute('aria-expanded', !isOpen);
            
            if (!isOpen) {
                body.style.overflow = 'auto';
            } else {
                body.style.overflow = 'hidden';
            }
        }

        mobileMenuButton.addEventListener('click', toggleMobileMenu);
        mobileMenuBackdrop.addEventListener('click', toggleMobileMenu);

        // Close mobile menu on window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 640) {
                mobileMenu.classList.add('hidden');
                mobileMenuBackdrop.classList.add('hidden');
                mobileMenuButton.setAttribute('aria-expanded', 'false');
                body.style.overflow = 'auto';
            }
        });

        // Close mobile menu when clicking a link
        document.querySelectorAll('.mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                mobileMenuBackdrop.classList.add('hidden');
                mobileMenuButton.setAttribute('aria-expanded', 'false');
                body.style.overflow = 'auto';
            });
        });
    </script>
</body>
</html>
